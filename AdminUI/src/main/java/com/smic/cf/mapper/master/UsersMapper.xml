<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smic.cf.mapper.master.UsersMapper">
	<!-- 可以重复利用的SQL片段 -->
	<sql id="baseColumnList">
		user_id,username,password,state
	</sql>
	
	<!-- 查询所有用户信息 -->
	<sql id="selectAll">
		select 
		<include refid="baseColumnList"/>
		from sys_user
	</sql>
	
	<!-- 登录用户信息查询 -->
	<select id="verifyUser" parameterType="com.smic.cf.domain.User" resultType="com.smic.cf.domain.User">
		<include refid="selectAll"/>		
		<where>
			<if test="username != null and username != '' ">
				username = #{username,jdbcType=VARCHAR}
			</if>
			<if test="password != null and password != '' ">
				and password = #{password,jdbcType=VARCHAR}
			</if>
		</where>
	</select>
</mapper>
 